"use strict";(self["webpackChunkbadmintion"]=self["webpackChunkbadmintion"]||[]).push([[788],{3788:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"warp"},[t("el-card",{staticClass:"topcard"},[t("el-row",{attrs:{gutter:30,type:"flex",align:"middle"}},[t("el-col",{attrs:{span:6}},[t("div",{staticClass:"search_input",staticStyle:{margin:"0"}},[t("el-input",{staticClass:"input-with-select",attrs:{placeholder:"订单号、姓名或手机号查询"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-tickets"},slot:"append"})],1)],1)]),t("el-col",{attrs:{span:8}},[t("div",{staticClass:"block datatime"},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.Datavalue,callback:function(t){e.Datavalue=t},expression:"Datavalue"}}),t("el-time-picker",{attrs:{"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围",format:"HH:mm"},model:{value:e.Timevalue,callback:function(t){e.Timevalue=t},expression:"Timevalue"}})],1)]),t("el-col",{attrs:{span:5}},[t("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"}},[e._v("查询")])],1),t("el-col",{attrs:{span:5}},[t("el-button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("新建订单")]),t("div",{staticClass:"clear"})],1)],1)],1),t("el-card",{staticClass:"table"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.load,expression:"load"}],staticStyle:{width:"100%"},attrs:{data:e.tableData}},[t("el-table-column",{attrs:{prop:"order",label:"订单号",width:"120",fixed:"left"}}),t("el-table-column",{attrs:{prop:"date",label:"预约日期",width:"150",fixed:"left",sortable:""}}),t("el-table-column",{attrs:{prop:"time",label:"预约时段",width:"200",fixed:"left"}}),t("el-table-column",{attrs:{prop:"userid",label:"姓名",width:"180"}}),t("el-table-column",{attrs:{prop:"cellphone",label:"手机号",width:"200"}}),t("el-table-column",{attrs:{prop:"area",label:"区域号",width:"180"}}),t("el-table-column",{attrs:{prop:"address",label:"场地号",width:"180"}}),t("el-table-column",{attrs:{label:"操作","header-align":"right",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{staticClass:"fr",attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDelete(a.$index,a.row)}}},[e._v("取消")]),t("el-button",{staticClass:"fr",staticStyle:{"margin-right":"10px"},attrs:{size:"mini"},on:{click:function(t){return e.handleEdit(a.$index,a.row)}}},[e._v("修改")]),t("div",{staticClass:"clear"})]}}])})],1),t("div",{staticClass:"block fr"},[t("el-pagination",{attrs:{"current-page":e.dataSize.currentPage,"page-sizes":[10,20,30,50],"page-size":e.dataSize.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.dataSize.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),t("el-dialog",{attrs:{title:"新建订单",visible:e.dialogVisible,width:"40%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-row",{attrs:{gutter:24}},[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"姓名",prop:"userid"}},[t("el-input",{model:{value:e.ruleForm.userid,callback:function(t){e.$set(e.ruleForm,"userid",t)},expression:"ruleForm.userid"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[t("el-input",{model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1)],1)],1),t("el-row",{attrs:{gutter:24}},[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"区域",prop:"area"}},[t("el-input",{model:{value:e.ruleForm.area,callback:function(t){e.$set(e.ruleForm,"area",t)},expression:"ruleForm.area"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"场地",prop:"address"}},[t("el-input",{model:{value:e.ruleForm.address,callback:function(t){e.$set(e.ruleForm,"address",t)},expression:"ruleForm.address"}})],1)],1)],1),t("el-form-item",{attrs:{label:"活动时间",required:""}},[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{prop:"date1"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.date1,callback:function(t){e.$set(e.ruleForm,"date1",t)},expression:"ruleForm.date1"}})],1)],1),t("el-col",{staticClass:"line",attrs:{span:2}},[e._v("——")]),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{prop:"date2"}},[t("el-time-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"选择时间"},model:{value:e.ruleForm.date2,callback:function(t){e.$set(e.ruleForm,"date2",t)},expression:"ruleForm.date2"}})],1)],1)],1),t("el-form-item",[t("el-button",{on:{click:function(t){return e.resetForm()}}},[e._v("重置")])],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.cancel}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.submitFrom}},[e._v("确认")])],1)],1)],1)},r=[],s=a(6176),i={data(){return{load:!1,dialogVisible:!1,input:"",Datavalue:"",Timevalue:"",tableData:[],dataSize:{pageSize:10,currentPage:1,total:0},ruleForm:{userid:"",phone:"",area:"",address:"",date1:"",date2:""},rules:{userid:[{required:!0,message:"请输入姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号码",trigger:"blur"},{pattern:/^1(3|4|5|6|7|8|9)\d{9}$/,message:"请输入正确的号码",trigger:"blur"}],area:[{required:!0,message:"请选择活动区域",trigger:"blur"}],address:[{required:!0,message:"请选择活动场地",trigger:"blur"}],date1:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],date2:[{type:"date",required:!0,message:"请选择时间",trigger:"change"}]}}},created(){this.gettableData(),this.$route.meta.keepAlive=!0},methods:{async gettableData(){this.load=!0,await(0,s.v)("/bookmage",this.dataSize).then((e=>{this.tableData=e.data.list,this.dataSize.total=e.data.total,this.load=!1}))},handleSizeChange(e){this.dataSize.pageSize=e,this.gettableData()},handleCurrentChange(e){this.dataSize.currentPage=e,this.gettableData()},resetForm(){this.$refs.ruleForm.resetFields()},submitFrom(){this.$refs.ruleForm.validate((e=>{e&&(0,s.v)("/user/newOrder",this.ruleForm).then((e=>{console.log(e),this.gettableData(),this.dialogVisible=!1,this.resetForm(),this.$notify({title:"成功",message:"新建成功！",type:"success"})})).catch((()=>{this.$notify({title:"失败",message:"新建失败！",type:"error"})}))}))},cancel(){this.dialogVisible=!1,this.resetForm()},handleEdit(e,t){console.log(e,t)},handleDelete(e,t){console.log(e,t)}}},o=i,n=a(1001),d=(0,n.Z)(o,l,r,!1,null,"0b5e4ecf",null),c=d.exports}}]);
//# sourceMappingURL=788.fad2d849.js.map