"use strict";(self["webpackChunkbadmintion"]=self["webpackChunkbadmintion"]||[]).push([[809],{9809:function(r,e,s){s.r(e),s.d(e,{default:function(){return d}});var t=function(){var r=this,e=r._self._c;return e("div",[e("el-card",{staticClass:"warp"},[e("el-form",{ref:"ruleForm",attrs:{model:r.ruleForm,rules:r.rules,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"原密码:",prop:"oldPassword"}},[e("el-input",{staticStyle:{width:"200px"},attrs:{type:"password"},model:{value:r.ruleForm.oldPassword,callback:function(e){r.$set(r.ruleForm,"oldPassword","string"===typeof e?e.trim():e)},expression:"ruleForm.oldPassword"}})],1),e("el-form-item",{attrs:{label:"新密码:",prop:"newPassword"}},[e("el-input",{staticStyle:{width:"200px"},attrs:{type:"password"},model:{value:r.ruleForm.newPassword,callback:function(e){r.$set(r.ruleForm,"newPassword","string"===typeof e?e.trim():e)},expression:"ruleForm.newPassword"}})],1),e("el-form-item",{attrs:{label:"再次输入:",prop:"confirm"}},[e("el-input",{staticStyle:{width:"200px"},attrs:{type:"password"},model:{value:r.ruleForm.confirm,callback:function(e){r.$set(r.ruleForm,"confirm","string"===typeof e?e.trim():e)},expression:"ruleForm.confirm"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary",loading:r.loading},on:{click:r.submitForm}},[r._v("提交")]),e("el-button",{on:{click:r.resetForm}},[r._v("重置")])],1)],1)],1)],1)},o=[],l=(s(7658),s(1836)),a=s(6176),i={data(){var r=(r,e,s)=>{""===e?s(new Error("请输入密码")):(""!==this.ruleForm.confirm&&this.$refs.ruleForm.validateField("confirm"),s())},e=(r,e,s)=>{""===e?s(new Error("请再次输入密码")):e!==this.ruleForm.newPassword?s(new Error("两次输入密码不一致!")):s()};return{loading:!1,ruleForm:{oldPassword:"",newPassword:"",confirm:""},rules:{oldPassword:[{required:!0,message:"请输入原密码",tigger:"blur"},{pattern:/^[A-Za-z0-9]+$/,message:"不允许使用特殊符号",tigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",tigger:"blur"},{validator:r,trigger:"blur"},{pattern:/^[A-Za-z0-9]+$/,message:"不允许使用特殊符号",tigger:"blur"}],confirm:[{required:!0,message:"再次输入密码",tigger:"blur"},{validator:e,trigger:"blur",required:!0}]}}},created(){this.$route.meta.keepAlive=!0},methods:{resetForm(){this.$refs.ruleForm.resetFields()},submitForm(){this.$refs.ruleForm.validate((r=>{r&&(this.loading=!0,(0,a.v)("/user/changePassword",this.ruleForm).then((({success:r})=>{r&&(this.$message({message:"修改成功,请重新登录!",type:"success"}),(0,l.qz)(),this.$router.push("/login"))})).catch((r=>{this.$message.error(r.message),this.loading=!1})))}))}}},n=i,u=s(1001),m=(0,u.Z)(n,t,o,!1,null,"4920ac39",null),d=m.exports}}]);
//# sourceMappingURL=809.8e0ee33b.js.map